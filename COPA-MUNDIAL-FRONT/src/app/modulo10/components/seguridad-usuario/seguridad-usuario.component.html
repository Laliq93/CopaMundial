<!-- ============================================================== -->
<!-- Formularios De Configuración Contraseña -->
<!-- ============================================================== -->

<div class="row page-titles">
  <div class="col-md-12 col-12 align-self-center">
    <h2 class="text-themecolor m-b-0 m-t-0">Perfil</h2>
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="">Inicio</a>
      </li>
      <li class="breadcrumb-item active">
        <span class="oi oi-chevron-right"></span>Configuracion de Seguridad</li>
    </ol>
  </div>
</div>

<div class="row">

  <div class="col-lg-4 col-xlg-3 col-md-5">
    <div class="card">
      <img class="card-img-top" src="../assets/images/background/profile-bg.jpg" alt="Card image cap">
      <div class="card-block little-profile text-center">
        <div class="pro-img">
          <img src="../assets/images/users/1.jpg" alt="user" />
        </div>
        <h3 class="m-b-0">{{_usuario.Nombre+' '+_usuario.Apellido}}</h3>
        <p>Cumpleaños: {{_usuario.FechaNacimiento}} Correo: {{_usuario.Correo}}</p>
        <div class="row text-center m-t-20">
          <div class="col-lg-4 col-md-4 m-t-20">
            <h3 class="m-b-0 font-light">1099</h3>
            <small>Apuestas</small>
          </div>
          <div class="col-lg-4 col-md-4 m-t-20">
            <h3 class="m-b-0 font-light">23,469</h3>
            <small>Ganadas</small>
          </div>
          <div class="col-lg-4 col-md-4 m-t-20">
            <h3 class="m-b-0 font-light">6035</h3>
            <small>Perdidas</small>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-lg-8 col-xlg-9 col-md-7">
    <div class="card">

      <ul class="nav nav-tabs profile-tab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" data-toggle="tab" href="#email" role="tab">Email</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="tab" href="#pass" role="tab">Contraseña</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="tab" href="#profile" role="tab">Desactivar</a>
        </li>
      </ul>

      <div class="tab-content">

        <div class="tab-pane active" id="email" role="tabpanel">
          <div class="card-body">

            <form class="form-horizontal form-material">

              <div class="form-group">
                <label class="col-md-12">Contraseña</label>
                <div class="col-md-12">
                  <input type="password" placeholder="" class="form-control form-control-line" name="password0"
                   id="password0" [(ngModel)]="_usuario.Password">
                </div>
              </div>

              <br>
              <br>

              <div class="form-group">
                <label for="email" class="col-md-12">Introduzca Nuevo Email</label>
                <div class="col-md-12">
                  <input type="email" placeholder="" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" 
                  class="form-control form-control-line" name="email" id="email" [(ngModel)]="_usuario.Correo" #email="ngModel">

                  <div *ngIf="email.errors &&  (email.touched || email.dirty)" class="aler alert-danger">
                    <div [hidden]="!email.errors?.pattern">
                      Email Invalido
                    </div>
                  </div>

                </div>
              </div>

              <div class="form-group">
                <label for="emailConfirm" class="col-md-12">Confirmar</label>
                <div class="col-md-12">
                  <input type="email" placeholder="" pattern="{{_usuario.Correo}}" class="form-control form-control-line"
                    name="emailConfirm" id="emailConfirm" [(ngModel)]="_correoConfirm" #emailConfirm="ngModel">

                  <div *ngIf="emailConfirm.errors && (emailConfirm.touched || emailConfirm.dirty)" class="aler alert-danger">
                    <div [hidden]="!emailConfirm.errors?.pattern">
                       Los correos son distintos
                    </div>
                  </div>

                </div>
              </div>

              <div class="form-group">
                <div class="col-sm-12">
                  <button class="btn btn-success" (click)="VerificarEmail()">Actualizar Email</button>
                </div>
              </div>

            </form>

          </div>
        </div>


        <div class="tab-pane" id="pass" role="tabpanel">
          <div class="card-body">

            <form class="form-horizontal form-material">

              <div class="form-group">
                <label class="col-md-12">Contraseña Actual</label>
                <div class="col-md-12">
                  <input type="password" placeholder="" class="form-control form-control-line"
                   name="password" id="password" [(ngModel)]="_usuario.Password">
                </div>
              </div>
              <br>
              <br>
              <div class="form-group">
                <label class="col-md-12">Contraseña Nueva</label>
                <div class="col-md-12">
                  <input type="password" placeholder="" class="form-control form-control-line"
                   name="password1" id="password1" [(ngModel)]="_passConfirm">
                </div>
              </div>

              <div class="form-group">
                <label class="col-md-12">Confirmar Contraseña</label>
                <div class="col-md-12">
                  <input type="password" placeholder="" class="form-control form-control-line" 
                  name="password2" id="password2" [(ngModel)]="_passConfirm2" pattern="{{_passConfirm}}"  #password2="ngModel">

                    <div *ngIf="password2.errors && (password2.touched || password2.dirty)" class="aler alert-danger">
                    <div [hidden]="!password2.errors?.pattern">
                       Las contraseñas son distintas
                    </div>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <div class="col-sm-12">
                  <button class="btn btn-success" (click)="CambiarContrasena()">Cambiar Contraseña</button>
                </div>
              </div>

            </form>

          </div>
        </div>

        <div class="tab-pane" id="profile" role="tabpanel">
          <div class="card-body">
            <div class="form-group">
              <label class="col-md-12">Contraseña</label>
              <div class="col-md-12">
                <input type="password" placeholder="" class="form-control form-control-line" name="password3" id="password3"
                 [(ngModel)]="_usuario.Password">
              </div>
            </div>

            <div class="form-group">
              <div class="col-sm-12">
                <button class="btn btn-danger" (click)="DesactivarPerfil()">Desactivar Usuario</button>
              </div>
            </div>
          </div>

        </div>
        
      </div>
    </div>
  </div>
</div>