DROP TABLE IF EXISTS apuesta CASCADE;

CREATE TABLE public.apuesta
(
    "idlogro" integer NOT NULL,
    "idusuario" integer NOT NULL,
    "fechacreacion" date NOT NULL,
    estado character varying(30) COLLATE pg_catalog."default" DEFAULT 'en curso'::character varying,
    "respuestacantidad" integer,
    "respuestajugador" integer,
    "respuestaequipo" integer,
    "respuestavof" boolean,
    CONSTRAINT "Apuesta_pkey" PRIMARY KEY ("idlogro", "idusuario"),
    CONSTRAINT fk_idjugador FOREIGN KEY ("respuestajugador")
        REFERENCES public.jugador (ju_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT fk_idlogro FOREIGN KEY ("idlogro")
        REFERENCES public.logro_partido (lo_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT fk_idusuario FOREIGN KEY ("idusuario")
        REFERENCES public.usuario (us_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT "Apuesta_estado_check" CHECK (estado::text = ANY (ARRAY['ganada'::character varying, 'perdida'::character varying, 'en curso'::character varying]::text[]))
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;